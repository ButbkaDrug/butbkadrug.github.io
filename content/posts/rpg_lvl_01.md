+++ 
draft = false
date = 2023-08-24T14:05:25+04:00
title = "Учимся читать"
description = "Сегодня наша задача научить нашего героя читать."
slug = ""
authors = ["Viktar Ivanou"]
tags = ["python", "rpg"]
categories = ["learning"]
externalLink = ""
series = ["magic-world"]
+++

# День второй

### Как прочитать файл

Сегодня нам предстоит вернуться в библиотеку дабы прочиться книгу. Но на данный момент наш герой не умеет читать. И наша задача его научить. Для этого мы создадим новы метод **read_the_book** который будет принимать путь к книге как параметр и возвращать её содержимое

```python
def read_the_book(file_path:str) -> str:
    ...
```

Теперь немного о чтении. Чтобы прочитать книгу, нам нужно точно знать где она лежит. Взять её, прочитать и потом положить на место, чтобы если она понадобиться кому-то еще, книга была доступна.

```python

with open("путь/до/книги/книга.txt") as file:
    content = file.read()

```

**with** - это волшебное слово, которое помогает нам все сделать правильно, и ничего не забыть. Используя **with** книга сама вернется на место, как только мы закончим с ней работать. 

>Было бы неплохо если бы это работало и в повседневной жизни. Недавно мы месяцев 5 - 6 ждали пока книга, которую хотелось прочитать вернется в библиотеку. А похоже что человек который её взял, просто забыл вернуть на место...

**as file** - эта часть нашей строчки значит, что мы берем результаты выполнения функции **open()** и "кладём" их в переменную с именем **file**. Для того чтобы мы могли работать с данными внутри этого блока. 

---

### Какой именно файл нам нужно прочитать

Библиотека большая, и в ней много разных книг. Мы хотим прочитать книгу с самым длинным названием.

Есть много способов найти файл с самым длинным названием. Мы воспользуемся сортировкой.

Для начала нам нужен список книг. Мы уже получали список книг, когда были в библиотеке в прошлый раз. Поэтому я не буду описывать, как это сделать. В библиотеке находиться более 5000 книг. Поэтому наш список выходит довольно длинным. Каждый список в **Python** можно отсортировать, вызвав метод sort()

```python

list_of_books = [...] # Притворимся что это наш список книг

list_of_books.sort()

```

Без каких либо параметров список отсортирует в алфавитном порядке. Это здорово, но не то что нам нужно. Мы хотим отсортировать по длине названия. К счастью мы можем указать sort() функции, что нужно делать. Как ключ, к сортировке мы передаем имя функции(без кавычек). Результаты выполнения этой функции и будут использованы для сортировки. 

```python
def way_to_sort(x):
    return len(x)

list_of_books.sort(key = way_to_sort)

```

**Если список книг:**
```python
list_of_books = [
                Книгга,
                Книггга,
                Книга,
                Книгггга
]
```
То функция sort() сначала применит way_to_sort к каждому элементу в списке:
```python

[
way_to_sort( Книгга ), # Вернет 6
way_to_sort( Книггга ), # Вернет 7
way_to_sort( Книга ), # Вернет 5
way_to_sort( Книгггга ) # Вернет 8
]

```
И отсортирует по возрастанию, ориентируясь на результаты работы way_to_sort()
```python

[
Книга, # 5 букв
Книгга, # 6 букв
Книггга, # 7 букв
Книгггга # 8 букв
]

```
### *ВАЖНО!** метод sort() не возвращает ничего. А изменяет тот список с которым мы работаем поэтому **ТАК** делать **НЕ** нужно:

```python
sorted_list = list_of_books.sort() # Не правильно!
```

После того как мы вызвали метод sort() список уже будет отсортирован и с ним можно продолжать работать.


Звучит немного спутанно, но так уж оно работает, ну или почти так :) 

---

Все что нам остается это взять последний элемент списка. Он и будет самым длинным названием.

```python
title = list_of_books.pop()
```

Останется только вывести текст на экран, если хочется почитать сказку. И не забыть **return** текст, чтобы пройти тест.

Но помни что title - это только название, чтобы открыть файл, нужно не забыть указать также и путь к файлу!

Не забудь в конце запустить **run_lvl_01_test.py**
